(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{3:function(e,t,a){e.exports={searchbar:"Searchbar_searchbar__ccJ_p",searchForm:"Searchbar_searchForm__2qSVL",searchFormBtn:"Searchbar_searchFormBtn__2k-l7",searchFormBtnLabel:"Searchbar_searchFormBtnLabel__hTrEm",searchFormInput:"Searchbar_searchFormInput__1_Mf5"}},43:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var r=a(2),n=a.n(r),c=a(18),s=a.n(c),h=a(9),o=a(4),i=a(5),u=a(7),b=a(6),l=a(3),m=a.n(l),j=a(0),p=function(e){Object(u.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(o.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={query:""},e.handleChange=function(t){e.setState({query:t.currentTarget.value})},e.handleSubmit=function(t){t.preventDefault(),e.props.onSubmit(e.state.query),e.setState({query:""})},e}return Object(i.a)(a,[{key:"render",value:function(){return Object(j.jsx)("header",{className:m.a.searchbar,children:Object(j.jsxs)("form",{className:m.a.searchForm,onSubmit:this.handleSubmit,children:[Object(j.jsx)("button",{type:"submit",className:m.a.searchFormBtn,children:Object(j.jsx)("span",{className:m.a.searchFormBtnLabel,children:"Search"})}),Object(j.jsx)("input",{className:m.a.searchFormInput,type:"text",placeholder:"Search images and photos",onChange:this.handleChange})]})})}}]),a}(r.Component),f=a(19),g=a.n(f),d=function(e){var t=e.searchQuery,a=e.currentPage;return g.a.get("https://pixabay.com/api/?q=".concat(t,"&page=").concat(a,"&key=20615948-2e61cae167f5f13f5514a6165&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.data.hits}))},y=function(e){var t=e.onClick,a=e.children;return Object(j.jsx)("button",{type:"button",onClick:t,children:a})},O=function(e){Object(u.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(o.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={images:[],searchQuery:"",currentPage:1},e.onChangeQuery=function(t){e.setState({searchQuery:t,currentPage:1,images:[]})},e.fetchImages=function(){var t=e.state,a=t.searchQuery,r=t.currentPage;d({searchQuery:a,currentPage:r}).then((function(t){e.setState((function(e){return{images:[].concat(Object(h.a)(e.images),Object(h.a)(t)),currentPage:e.currentPage+1}}))}))},e}return Object(i.a)(a,[{key:"componentDidUpdate",value:function(e,t){t.searchQuery!==this.state.searchQuery&&this.fetchImages()}},{key:"render",value:function(){var e=this.state.images;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(p,{onSubmit:this.onChangeQuery}),Object(j.jsx)("ul",{children:e.map((function(e){var t=e.id,a=e.webformatURL;return Object(j.jsx)("li",{children:Object(j.jsx)("a",{href:a,children:a})},t)}))}),e.length>0&&Object(j.jsx)(y,{onClick:this.fetchImages,children:"Load more"})]})}}]),a}(r.Component);a(43),a(44);s.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(O,{})}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.e964b8e6.chunk.js.map